Date.now||(Date.now=function(){return(new Date).getTime()}),function(){"use strict";for(var e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t){var i=e[t];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var o=0;window.requestAnimationFrame=function(e){var t=Date.now(),i=Math.max(o+16,t);return setTimeout((function(){e(o=i)}),i-t)},window.cancelAnimationFrame=clearTimeout}}();var snowFall=function(){function e(){var e={flakeCount:35,flakeColor:"#ffffff",flakeIndex:999999,minSize:1,maxSize:2,minSpeed:1,maxSpeed:5,round:!1,shadow:!1,collection:!1,image:!1,collectionHeight:40},t=[],o={},n=0,s=0,a=0,l=0,r=function(e,t){return Math.round(e+Math.random()*(t-e))},d=function(e,t){for(var i in t)e.style[i]=t[i]+("width"==i||"height"==i?"px":"")},c=function(t,i,o){this.x=r(a,s-a),this.y=r(0,n),this.size=i,this.speed=o,this.step=0,this.stepSize=r(1,10)/100,e.collection&&(this.target=canvasCollection[r(0,canvasCollection.length-1)]);var l=null;e.image?(l=new Image).src=e.image:(l=document.createElement("div"),d(l,{background:e.flakeColor})),l.className="snowfall-flakes",d(l,{width:this.size,height:this.size,position:"absolute",top:this.y,left:this.x,fontSize:0,zIndex:e.flakeIndex}),e.round&&d(l,{"-moz-border-radius":~~e.maxSize+"px","-webkit-border-radius":~~e.maxSize+"px",borderRadius:~~e.maxSize+"px"}),e.shadow&&d(l,{"-moz-box-shadow":"1px 1px 1px #555","-webkit-box-shadow":"1px 1px 1px #555",boxShadow:"1px 1px 1px #555"}),t.tagName===document.body.tagName?document.body.appendChild(l):t.appendChild(l),this.element=l,this.update=function(){this.y+=this.speed,this.y>n-(this.size+6)&&this.reset(),this.element.style.top=this.y+"px",this.element.style.left=this.x+"px",this.step+=this.stepSize,this.x+=Math.cos(this.step),(this.x+this.size>s-a||this.x<a)&&this.reset()},this.reset=function(){this.y=0,this.x=r(a,s-a),this.stepSize=r(1,10)/100,this.size=r(100*e.minSize,100*e.maxSize)/100,this.element.style.width=this.size+"px",this.element.style.height=this.size+"px",this.speed=r(e.minSpeed,e.maxSpeed)}},m=function(){for(var e=0;e<t.length;e+=1)t[e].update();l=requestAnimationFrame((function(){m()}))};return{snow:function(l,d){for(function(e,t){for(var i in t)e.hasOwnProperty(i)&&(e[i]=t[i])}(e,d),n=(o=l).offsetHeight,s=o.offsetWidth,o.snow=this,"body"===o.tagName.toLowerCase()&&(a=25),window.addEventListener("resize",(function(){n=o.clientHeight,s=o.offsetWidth}),!0),i=0;i<e.flakeCount;i+=1)t.push(new c(o,r(100*e.minSize,100*e.maxSize)/100,r(e.minSpeed,e.maxSpeed)));m()},clear:function(){for(var e,t=(e=o.getElementsByClassName?o.getElementsByClassName("snowfall-flakes"):o.querySelectorAll(".snowfall-flakes")).length;t--;)e[t].parentNode===o&&o.removeChild(e[t]);cancelAnimationFrame(l)}}}return{snow:function(t,i){if("string"==typeof i)if(t.length>0)for(var o=0;o<t.length;o++)t[o].snow&&t[o].snow.clear();else t.snow.clear();else if(t.length>0)for(o=0;o<t.length;o++)(new e).snow(t[o],i);else(new e).snow(t,i)}}}(),SNOW_Picture=biicore.webroot+"/common/imgs/heart.png",special_custom=["646f6e3d778825e6f306667f","64a04f6beb89a210fc07656a"];window.onload=e=>{if("none"==biicore.effect.type)return!1;setTimeout((function(){if("heart"==biicore.effect.type){let e=30;void 0!==biicore.template_id&&special_custom.includes(biicore.template_id)&&(e=5,window.innerWidth<=650&&(e=3)),snowFall.snow(document.getElementsByTagName("body")[0],{image:SNOW_Picture,minSize:15,maxSize:32,flakeCount:e,maxSpeed:3,minSpeed:1})}else if("snow"==biicore.effect.type){let e=250;void 0!==biicore.template_id&&special_custom.includes(biicore.template_id)&&(e=50,window.innerWidth<=1200&&(e=30),window.innerWidth<=650&&(e=25)),snowFall.snow(document.getElementsByTagName("body")[0],{round:!0,shadow:!0,flakeCount:e,minSize:1,maxSize:8})}else if("custom"==biicore.effect.type){let e=biicore.effect.setting,t=parseInt(e.speed)-3;t<=0&&(t=1),snowFall.snow(document.getElementsByTagName("body")[0],{image:e.icon,minSize:e.minSize,maxSize:e.maxSize,flakeCount:e.number,maxSpeed:e.speed,minSpeed:t})}}),300),document.getElementsByTagName("body")[0].clientHeight>window.innerHeight&&setTimeout((()=>{document.querySelector(".mouse-scroll-on-mobile").style.visibility="visible"}),800),showContentWishSuggestions.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();let t=this.textContent||this.innerText;document.getElementById("detail-comment").value=t}))}))},window.addEventListener("scroll",(e=>{window.scrollY>50&&(document.querySelector(".mouse-scroll-on-mobile").style.visibility="hidden")}));var scrollDownText=void 0!==biicore.scroll_down_text&&""!==biicore.scroll_down_text?biicore.scroll_down_text:"Kéo xuống";if(document.write(`\n\t<style type=text/css>\n\t.mouse-scroll-on-mobile{display:none;}\n\t@media screen and (max-width: 576px){\n\t\t.mouse-scroll-on-mobile{width:95px;height:30px;margin:0 0 0 -30px;position:fixed;right:calc(50% - 52px);bottom:80px;-webkit-animation:arrow .5s 1s infinite ease-in-out alternate;z-index:999;display:block!important;visibility:hidden}\n\t\t.mouse-scroll-on-mobile:hover{-webkit-animation-play-state:paused}\n\t\t.mouse-scroll-on-mobile .mouse-scroll-on-mobile-text{text-align:center;bottom:120px;position:absolute;left:1px;background:#fff;padding:5px 10px;border-radius:3px;font-size:15px;color: #000;}\n\t\t.mouse-scroll-on-mobile .mouse-scroll-on-mobile-left{position:absolute;height:5px;width:30px;background:#de4659;-webkit-transform:rotate(240deg);bottom:80px;left:42px;-webkit-border-radius:4px;-webkit-transform-origin:5px 50%;-webkit-animation:leftArrow .5s 1s infinite ease-out alternate}\n\t\t.mouse-scroll-on-mobile .mouse-scroll-on-mobile-right{position:absolute;height:5px;width:30px;background:#de4659;-webkit-transform:rotate(-60deg);bottom:80px;left:46px;-webkit-border-radius:4px;-webkit-transform-origin:5px 50%;-webkit-animation:rightArrow .5s 1s infinite ease-out alternate}}\n\t\t@-webkit-keyframes arrow{0%{bottom:0}100%{bottom:40px}}\n\t\t@-webkit-keyframes leftArrow{100%{-webkit-transform:rotate(225deg)}}\n\t\t@-webkit-keyframes rightArrow{100%{-webkit-transform:rotate(-45deg)}}\n\t</style>\n\t<div class="mouse-scroll-on-mobile">\n\t\t<div class="mouse-scroll-on-mobile-text">${scrollDownText}</div>\n\t\t<div class="mouse-scroll-on-mobile-left"></div>\n\t\t<div class="mouse-scroll-on-mobile-right"></div>\n\t</div>\n\n\t`),biicore.alert&&Object.keys(biicore.alert).length>0&&1==biicore.alert.status&&setTimeout((function(){Swal.fire({title:biicore.alert.title,html:biicore.alert.content,showCloseButton:!1,showConfirmButton:!1,showCancelButton:!0,focusCancel:!0,cancelButtonText:void 0!==biicore.alert.cancel_button_text&&""!=biicore.alert.cancel_button_text?biicore.alert.cancel_button_text:"Tắt thông báo"})}),biicore.alert.timeout),biicore.bgMusic){var audioPlayer=document.createElement("AUDIO");audioPlayer.style.display="none",setTimeout((function(){audioPlayer.canPlayType("audio/mpeg")&&(audioPlayer.setAttribute("src",biicore.bgMusic),document.getElementsByClassName("bii-player")[0].style.display="block"),audioPlayer.volume=.3,audioPlayer.setAttribute("controls","controls"),biicore.isAutoPlay&&audioPlayer.setAttribute("autoplay","autoplay"),document.body.appendChild(audioPlayer)}),1e3);var myInterval=setInterval((function(){document.querySelector(".bii-player")&&(setTimeout((function(){document.getElementsByClassName("bii-player")[0].classList.add("show-sec")}),2e3),setTimeout((function(){document.getElementsByClassName("bii-player")[0].classList.remove("show-sec")}),7e3),clearInterval(myInterval))}),200);function playPause(){document.getElementsByClassName("bii-player")[0].classList.remove("show-sec"),audioPlayer.paused?(audioPlayer.play(),document.getElementById("playerVolumeOff").style.display="none",document.getElementById("playerVolumeOn").style.display="block"):(audioPlayer.pause(),document.getElementById("playerVolumeOff").style.display="block",document.getElementById("playerVolumeOn").style.display="none")}if(biicore.isAutoPlay){function handleClickAutoPlay(){let e=document.querySelectorAll(".bii-player-secondary, .playerIcon");Array.from(e).some((e=>e.contains(event.target)))?document.body.removeEventListener("click",handleClickAutoPlay,!0):audioPlayer.paused&&(document.body.removeEventListener("click",handleClickAutoPlay,!0),playPause())}document.body.addEventListener("click",handleClickAutoPlay,!0)}document.write('\n\t<style type="text/css">\n\t@-webkit-keyframes biilogo-pulse {\n\t  from {\n\t    -webkit-transform: scale3d(1, 1, 1);\n\t    transform: scale3d(1, 1, 1);\n\t  }\n\t  50% {\n\t    -webkit-transform: scale3d(0.95, 0.95, 0.95);\n\t    transform: scale3d(0.95, 0.95, 0.95);\n\t  }\n\t  to {\n\t    -webkit-transform: scale3d(1, 1, 1);\n\t    transform: scale3d(1, 1, 1);\n\t  }\n\t}\n\t\n\t@keyframes biilogo-pulse {\n\t  from {\n\t    -webkit-transform: scale3d(1, 1, 1);\n\t    transform: scale3d(1, 1, 1);\n\t  }\n\t  50% {\n\t    -webkit-transform: scale3d(0.95, 0.95, 0.95);\n\t    transform: scale3d(0.95, 0.95, 0.95);\n\t  }\n\t  to {\n\t    -webkit-transform: scale3d(1, 1, 1);\n\t    transform: scale3d(1, 1, 1);\n\t  }\n\t}\n\t.bii-player{position: fixed;bottom: 70px;left: 50px;width: 40px;height: 40px;z-index:99999;display:none;}\n\t.bii-player .playerIcon{cursor:pointer;display: block;width:40px;height:40px;-webkit-border-radius: 50%;-moz-border-radius: 50%;-o-border-radius: 50%;-ms-border-radius: 50%;border-radius: 50%;background-color: #df4758;padding-top: 7px;padding-left: 9px;position:absolute;z-index: 2;}\n\t.bii-player:after{content: "";position: absolute;-webkit-border-radius: 50%;-moz-border-radius: 50%;-o-border-radius: 50%;-ms-border-radius: 50%;border-radius: 50%;z-index: -1;background-color: rgba(242, 59, 67, 0.3);width: 120%;height: 120%;left: -10%;top: -10%;-webkit-animation: biilogo-pulse 1s infinite;animation: biilogo-pulse 1s infinite;z-index: 1;}\n\t.bii-player img{width: 100%;z-index: 99999;position: absolute;cursor:pointer;}\n\t.bii-player.show-sec .bii-player-secondary{visibility: visible;}\n\t.bii-player.show-sec .bii-player-secondary-content{ transform: translate3d(0, 0, 0);}\n\t.bii-player-secondary{position: absolute;width: 310px;left: 25px;height: 50px;overflow: hidden;visibility: hidden;}\n\t.bii-player-secondary-content{display: flex;align-items: center;cursor:pointer;user-select: none;position: absolute;width: 310px;left: -25px;background: #fff;height: 40px;padding: 8px 11px 8px 50px;border: 1px solid #df4759;border-radius: 30px;z-index: 1;font-size:14px;transform: translate3d(-100%, 0, 0);transition: transform 175ms ease;font-family: arial;font-weight: 200;color: #000;}\n\t@media (max-width: 799px) {\n\t  .bii-player{bottom: 30px;left: 20px;}\n\t}\n\t</style>\n\t<div class="bii-player">\n\t\t<div onclick="playPause();" class="bii-player-secondary"><div class="bii-player-secondary-content">Click vào đây nếu bạn muốn phát nhạc!</div></div>\n\t\t<div onclick="playPause();" class="playerIcon">\n\t\t\t<span id="playerVolumeOff" style="display:none;">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="25" height="27" fill="#fff" class="bi bi-volume-mute-fill" viewBox="0 0 16 16">\n\t\t\t\t  <path d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zm7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z"/>\n\t\t\t\t</svg>\n\t\t\t</span>\n\t\t\t<span  id="playerVolumeOn">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="25" height="27" fill="#fff" class="bi bi-volume-up-fill" viewBox="0 0 16 16">\n\t\t\t\t  <path d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"/>\n\t\t\t\t  <path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"/>\n\t\t\t\t  <path d="M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"/>\n\t\t\t\t</svg>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n\t')}var showButtonWishSuggestions=document.querySelector(".show-autocomplete"),hideButtonWishSuggestions=document.querySelector(".hide-autocomplete"),showContentWishSuggestions=document.querySelectorAll(".showContent"),toggleDisplayWishesAutocomplete=function(e=!1){let t=document.querySelector(".wishes-autocomplete-content"),i="none"===showButtonWishSuggestions.style.display;e&&!i||(t.style.display=i?"none":"",showButtonWishSuggestions.style.display=i?"":"none",hideButtonWishSuggestions.style.display=i?"none":"")};function searchWishSuggestionsFunction(){let e,t,i,o,n,s,a;for(e=document.getElementById("searchWishSuggestions"),t=removeVietnameseTones(e.value.toUpperCase()),i=document.getElementById("wishSuggestions"),o=i.getElementsByTagName("li"),s=0;s<o.length;s++)n=o[s].getElementsByTagName("a")[0],a=n.textContent||n.innerText,removeVietnameseTones(a.toUpperCase()).indexOf(t)>-1?o[s].style.display="":o[s].style.display="none"}function removeVietnameseTones(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"A")).replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"E")).replace(/ì|í|ị|ỉ|ĩ/g,"I")).replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"O")).replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"U")).replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"Y")).replace(/đ/g,"D")).replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A")).replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E")).replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I")).replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O")).replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U")).replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y")).replace(/Đ/g,"D")).replace(/[^a-zA-Z0-9 ]/g,"")}showButtonWishSuggestions&&hideButtonWishSuggestions&&(showButtonWishSuggestions.addEventListener("click",(function(){toggleDisplayWishesAutocomplete(!1)})),hideButtonWishSuggestions.addEventListener("click",(function(){toggleDisplayWishesAutocomplete(!1)})),document.body.addEventListener("click",(function(e){e.target!==document.body&&(showButtonWishSuggestions.contains(e.target)||hideButtonWishSuggestions.contains(e.target)||document.getElementById("searchWishSuggestions").contains(e.target)||Array.from(showContentWishSuggestions).some((function(t){return t.contains(e.target)})))||toggleDisplayWishesAutocomplete(!0)})));